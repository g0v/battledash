// Generated by LiveScript 1.3.0
(function(){
  ldc.register('board', ['auth'], function(arg$){
    var auth;
    auth = arg$.auth;
    return auth.get().then(function(){
      var view, form;
      view = new ldView({
        root: '[ld-scope=board-create]',
        action: {
          click: {
            submit: function(arg$){
              var node;
              node = arg$.node;
              console.log('submit');
              return ld$.fetch('/d/test/', {
                method: 'POST',
                body: form.getfd()
              }, {}).then(function(){
                return console.log('done.');
              })['catch'](function(it){
                return console.log("failed:", it);
              });
            }
          }
        }
      });
      return form = new ldForm({
        root: '[ld-scope=board-create]',
        submit: view.get('submit')
      });
    });
  });
  return ldc.app('board');
})();